{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import { nanoid } from 'nanoid';\nconst form = document.querySelector('.header-form');\nconst cardsList = document.querySelector('.tasks-list');\nconst STORAGE_KEY = 'tasks';\ninitSt();\nform.addEventListener('submit', formSubmit);\n\ncardsList.addEventListener('click', deleteCard);\nfunction deleteCard(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const id = event.target.dataset.id;\n  deleteTasktoLocaleSt(id);\n  renderCards();\n}\n\nfunction formSubmit(event) {\n  event.preventDefault();\n  const formName = event.target.elements.taskName.value;\n  const formText = event.target.elements.taskText.value;\n  if (!formName || !formText) {\n    alert('fiil please all');\n    return;\n  }\n  const newTask = { formName, formText, id: nanoid() };\n\n  addTasktoLocaleSt(newTask);\n\n  renderCards();\n}\n\nfunction renderCards() {\n  const tasksLocaleSt = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  const cards = tasksLocaleSt\n    .map(\n      ({ formName, formText, id }) => `<li class=\"task-list-item\">\n  <button class=\"task-list-item-btn\" data-id=\"${id}\">Delete</button>\n  <h3>${formName}</h3>\n  <p>${formText}</p>\n</li>`\n    )\n    .join(``);\n  cardsList.innerHTML = '';\n  cardsList.insertAdjacentHTML('beforeend', cards);\n}\n\nfunction addTasktoLocaleSt(newTask) {\n  const arrTasks = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  arrTasks.push(newTask);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(arrTasks));\n}\n\nfunction deleteTasktoLocaleSt(id) {\n  const arrTasks = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  const filterArr = arrTasks.filter(element => element.id !== id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(filterArr));\n}\n\nfunction initSt() {\n  const getItems = localStorage.getItem(STORAGE_KEY);\n  if (!getItems) {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify([]));\n    return;\n  }\n  const parceItems = JSON.parse(getItems);\n\n  renderCards(parceItems);\n}\n"],"names":["form","cardsList","STORAGE_KEY","initSt","formSubmit","deleteCard","event","id","deleteTasktoLocaleSt","renderCards","formName","formText","newTask","nanoid","addTasktoLocaleSt","cards","arrTasks","filterArr","element","getItems"],"mappings":"svBACA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,QACpBC,IACAH,EAAK,iBAAiB,SAAUI,CAAU,EAE1CH,EAAU,iBAAiB,QAASI,CAAU,EAC9C,SAASA,EAAWC,EAAO,CACzB,GAAIA,EAAM,OAAO,WAAa,SAC5B,OAEF,MAAMC,EAAKD,EAAM,OAAO,QAAQ,GAChCE,EAAqBD,CAAE,EACvBE,GACF,CAEA,SAASL,EAAWE,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMI,EAAWJ,EAAM,OAAO,SAAS,SAAS,MAC1CK,EAAWL,EAAM,OAAO,SAAS,SAAS,MAChD,GAAI,CAACI,GAAY,CAACC,EAAU,CAC1B,MAAM,iBAAiB,EACvB,MACD,CACD,MAAMC,EAAU,CAAE,SAAAF,EAAU,SAAAC,EAAU,GAAIE,EAAM,GAEhDC,EAAkBF,CAAO,EAEzBH,GACF,CAEA,SAASA,GAAc,CAErB,MAAMM,EADgB,KAAK,MAAM,aAAa,QAAQb,CAAW,CAAC,EAE/D,IACC,CAAC,CAAE,SAAAQ,EAAU,SAAAC,EAAU,GAAAJ,CAAI,IAAK;AAAA,gDACUA,CAAE;AAAA,QAC1CG,CAAQ;AAAA,OACTC,CAAQ;AAAA,MAEV,EACA,KAAK,EAAE,EACVV,EAAU,UAAY,GACtBA,EAAU,mBAAmB,YAAac,CAAK,CACjD,CAEA,SAASD,EAAkBF,EAAS,CAClC,MAAMI,EAAW,KAAK,MAAM,aAAa,QAAQd,CAAW,CAAC,EAC7Dc,EAAS,KAAKJ,CAAO,EACrB,aAAa,QAAQV,EAAa,KAAK,UAAUc,CAAQ,CAAC,CAC5D,CAEA,SAASR,EAAqBD,EAAI,CAEhC,MAAMU,EADW,KAAK,MAAM,aAAa,QAAQf,CAAW,CAAC,EAClC,OAAOgB,GAAWA,EAAQ,KAAOX,CAAE,EAC9D,aAAa,QAAQL,EAAa,KAAK,UAAUe,CAAS,CAAC,CAC7D,CAEA,SAASd,GAAS,CAChB,MAAMgB,EAAW,aAAa,QAAQjB,CAAW,EACjD,GAAI,CAACiB,EAAU,CACb,aAAa,QAAQjB,EAAa,KAAK,UAAU,CAAE,CAAA,CAAC,EACpD,MACD,CACkB,KAAK,MAAMiB,CAAQ,EAEtCV,EAAsB,CACxB"}